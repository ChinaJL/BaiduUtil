{"name":"BaiduUtil","tagline":"百度贴吧工具类。祝贴吧生活愉快~~","body":"##开始\r\n\r\n只需要两行代码，你就可以完成一个贴吧的签到：\r\n\r\n    $test = new BaiduUtil($cookie);\r\n\t$test->sign(\"chrome\");\r\n\r\n下面这几行代码展示了如何完成连续的一系列动作，在这个示例里，我们传入了一个客户端$client(可选)：\r\n\r\n\t$test = new BaiduUtil($cookie, $client);\r\n\t$test->returnThis()->zan(\"chrome\")->zan(\"firefox\")->multiSign()->meizhi(\"星弦雪\")->post(\"显卡\");\r\n\r\n在这个示例里，我们通过开启链式调用，完成了点赞、客户端一键签到，并为@星弦雪 投了妹纸票，最后在显卡吧水了一贴:)。\r\n\r\n当然，这只是一小部分功能，详细请参见方法手册。\r\n\r\n##返回值\r\n\r\n- 大多数方法都返回一个数组['status'=>(int),'msg'=>(string),'data'=>(array)]\r\n- status = 0 ,则此方法执行成功，否则返回错误码\r\n- msg是错误信息\r\n- data数组中返回主要数据\r\n- 以下方法手册中的返回值，若未特别说明，都是指data数组中的返回值\r\n\r\n##方法手册\r\n\r\n###登录\r\n\r\n**原型**\r\n\r\n\tpublic function login($un,$passwd,$vcode = NULL,$vcode_md5 = NULL)\r\n\r\n**返回值(array)**\r\n\r\n如果登陆成功\r\n\r\n- uid……用户的uid\r\n- un……用户名\r\n- bduss……BDUSS\r\n- cookie\r\n\r\n如果需要验证码\r\n\r\n- un……用户名\r\n- passwd……密码\r\n- need_vcode……需要验证码时为1，否则为0\r\n- vcode_md5……验证码MD5【可以存在session中】\r\n- vcode_pic_url……验证码地址\r\n\r\n----------\r\n\r\n###签到\r\n\r\n**原型**\r\n\r\n\tpublic function sign($kw, $fid = NULL)\r\n\r\n**参数**\r\n\r\n- $fid……重要，签到贴吧的tid\r\n- $kw……必须，签到贴吧名\r\n\r\n**返回值**\r\n\r\n- fid……签到贴吧的tid\r\n- kw……签到贴吧名\r\n\r\n----------\r\n\r\n###发帖\r\n\r\n**原型**\r\n\r\n\tpublic function post($kw,$fid = NULL,$tid = NULL,$content = NULL)\r\n\r\n**参数**\r\n\r\n虽然大部分参数可以省略，但为了减少HTTP请求并加快速度，请尽量传入$fid,$tid,$kw\r\n\r\n**返回值**\r\n\r\n##异常\r\n\r\n百度工具类在内部处理大部分异常并返回负值的错误码，能在外部捕获的异常只有构造函数中的异常\r\n\r\n- -10 fetch() 网络连接失败\r\n- -11 fetch() 未收到正确数据\r\n- -12 getForumInfo() 无可赞的帖子\r\n- -13 getForumInfo() 无法取得pid\r\n- -14 fetchWebTbs() 获取webtbs失败\r\n- -15 clientRelogin() clientRelogin失败\r\n- -16 doTdouLottery() 免费抽奖机会已经用完 \r\n- -17 doMultiSign() 没有可以一键签到的贴吧\r\n- -18 getForumInfo() 获取的贴吧页面没有点赞信息\r\n- -99 __construct() 请输入合法的cookie\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}